"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/opensea/events/[address]";
exports.ids = ["pages/api/opensea/events/[address]"];
exports.modules = {

/***/ "web3":
/*!***********************!*\
  !*** external "web3" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("web3");

/***/ }),

/***/ "./lib/opensea/collections.ts?ca6c":
/*!************************************!*\
  !*** ./lib/opensea/collections.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getAssetsForOwner\": () => (/* binding */ getAssetsForOwner),\n/* harmony export */   \"getCollectionStats\": () => (/* binding */ getCollectionStats),\n/* harmony export */   \"pruneAndRemoveDuplicateCollections\": () => (/* binding */ pruneAndRemoveDuplicateCollections),\n/* harmony export */   \"pruneAsset\": () => (/* binding */ pruneAsset),\n/* harmony export */   \"fetchOpenseaCollectionFromContractAddress\": () => (/* binding */ fetchOpenseaCollectionFromContractAddress),\n/* harmony export */   \"getAllAssetsFromCollections\": () => (/* binding */ getAllAssetsFromCollections)\n/* harmony export */ });\n/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3 */ \"web3\");\n/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(web3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./lib/opensea/config.ts?91fe\");\n\n\nconst getAssetsForOwner = async (ownerAddress)=>{\n    let totalAssets = [];\n    // Infinite loop until all assets are fetched\n    while(1){\n        // Construct request url\n        const url = `https://api.opensea.io/api/v1/assets?owner=${ownerAddress}&order_direction=desc&offset=${totalAssets.length}&limit=50`;\n        console.log(`   Making Opensea API Call: ${url}`);\n        // Fetch with address and the current offset set to the number of already fetched assets\n        const resp = await fetch(url, _config__WEBPACK_IMPORTED_MODULE_1__.openseaFetchHeaders);\n        const { assets , detail  } = await resp.json();\n        // This means the request was throttled\n        if (detail) {\n            console.error(`Opensea assets for owner ${ownerAddress}: ${detail}`);\n            throw new Error(detail);\n        }\n        if (assets) {\n            totalAssets = [\n                ...totalAssets,\n                ...assets\n            ];\n            // If we get less than the limit of 50 assets, we know we've fetched everything\n            if (assets.length < 50) break;\n        } else {\n            console.error(`Could not fetch assets for endpoint: ${url}`);\n            break;\n        }\n    }\n    return totalAssets;\n};\n/**\n * Fetches the collection stats from the opensea API /collection/{slug}/stats endpoint\n */ const getCollectionStats = async (slug)=>{\n    const url = `https://api.opensea.io/api/v1/collection/${slug}/stats`;\n    console.log(`   Making Opensea API Call: ${url}`);\n    const { stats , detail , error: error1  } = await fetch(url, _config__WEBPACK_IMPORTED_MODULE_1__.openseaFetchHeaders).then((response)=>response.json()\n    ).catch((error)=>{\n        return {\n            error\n        };\n    });\n    // This could mean that the collection under this slug no longer exists (404)\n    if (error1) {\n        console.error(`Error fetching stats for slug ${slug}: ${error1.toString()}`);\n        return null;\n    }\n    // This means the request was throttled\n    if (detail) {\n        console.error(`\\nOpensea collection stats ${slug}: ${detail}\\n`);\n        throw new Error(`Opensea throttled request for ${slug} (${url})`);\n    }\n    return stats;\n};\n/**\n * Extracts ICollection's from Opensea assets\n * @param assets Opensea asset data returned from /assets endpoint\n */ const pruneAndRemoveDuplicateCollections = (assets)=>{\n    // Create an object where the key is the collection slug and the value is the pruned collection data\n    const byCollection = assets.reduce((acc, asset)=>{\n        const { collection  } = asset;\n        // Add the pruned collection to the accumulated object if not already there\n        if (!acc[collection.slug]) {\n            // Prune the collection\n            const prunedCollection = {\n                contract_address: asset.asset_contract.address,\n                name: collection.name,\n                slug: collection.slug,\n                image_url: collection.image_url,\n                twitter_username: collection.twitter_username,\n                discord_url: collection.discord_url,\n                external_url: collection.external_url\n            };\n            acc[collection.slug] = prunedCollection;\n        }\n        return acc;\n    }, {\n    });\n    return Object.values(byCollection);\n};\n/**\n * Turns Opensea asset into IAsset\n * @param assets Opensea asset data returned from /assets endpoint\n */ const pruneAsset = (asset)=>{\n    return {\n        name: asset.name,\n        contract_address: asset.asset_contract.address,\n        description: asset.description,\n        image_url: asset.image_url,\n        link: asset.permalink,\n        token_id: asset.token_id,\n        last_sale: asset.last_sale ? parseFloat(web3__WEBPACK_IMPORTED_MODULE_0___default().utils.fromWei(asset.last_sale.total_price)) : undefined\n    };\n};\n/**\n * Takes a contract address and fetches the collection data from opensea\n * @param contractAddress the address of the nft collection\n * @returns a pruned opensea collection\n */ const fetchOpenseaCollectionFromContractAddress = async (contractAddress)=>{\n    const url = `https://api.opensea.io/api/v1/asset_contract/${contractAddress}`;\n    console.log(`   Making Opensea API Call: ${url}`);\n    const result = await fetch(url).then((res)=>res.json()\n    );\n    const { collection , detail  } = result;\n    // This means request was throttled\n    if (detail) {\n        console.error(`Request for opensea asset_contract ${contractAddress}: ${detail}`);\n        throw new Error(detail);\n    }\n    const prunedCollection = {\n        contract_address: contractAddress,\n        name: collection.name,\n        slug: collection.slug,\n        image_url: collection.image_url,\n        twitter_username: collection.twitter_username,\n        discord_url: collection.discord_url,\n        external_url: collection.external_url\n    };\n    return prunedCollection;\n};\n/**\n * Extracts all IAssets from an ICollectionsWithAssets object\n * @param collectionsWithAssets The ICollectionsWithAssets object\n * @returns All IAssets\n */ const getAllAssetsFromCollections = (collectionsWithAssets)=>{\n    return Object.values(collectionsWithAssets).reduce((acc, curr)=>{\n        return [\n            ...acc,\n            ...curr.assets\n        ];\n    }, []);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFFTixVQUFVLENBQUNNLFNBQVM7UUFDL0JDLGdCQUFnQixFQUFFUCxVQUFVLENBQUNPLGdCQUFnQjtRQUM3Q0MsV0FBVyxFQUFFUixVQUFVLENBQUNRLFdBQVc7UUFDbkNDLFlBQVksRUFBRVQsVUFBVSxDQUFDUyxZQUFZO0lBQ3ZDLENBQUM7SUFDRCxNQUFNLENBQUNSLGdCQUFnQjtBQUN6QixDQUFDO0FBRUQsRUFJRzs7OztDQUFBLEdBQ0ksS0FBSyxDQUFDMEIsMkJBQTJCLElBQUlDLHFCQUE2QyxHQUFLLENBQUM7SUFDN0YsTUFBTSxDQUFDbEIsTUFBTSxDQUFDQyxNQUFNLENBQUNpQixxQkFBcUIsRUFBRS9CLE1BQU0sRUFBRUMsR0FBYSxFQUFFK0IsSUFBSSxHQUFLLENBQUM7UUFDM0UsTUFBTSxDQUFDLENBQUM7ZUFBRy9CLEdBQUc7ZUFBSytCLElBQUksQ0FBQzlDLE1BQU07UUFBQSxDQUFDO0lBQ2pDLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGFwZS1tb25pdG9yL3d3dy8uL2xpYi9vcGVuc2VhL2NvbGxlY3Rpb25zLnRzP2Q3NzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHdlYjMgZnJvbSAnd2ViMydcblxuaW1wb3J0IHsgSUNvbGxlY3Rpb25zV2l0aEFzc2V0cywgSU9wZW5zZWFDb2xsZWN0aW9uLCBJT3BlbnNlYUFzc2V0LCBJQXNzZXQsIElDb2xsZWN0aW9uIH0gZnJvbSAnLi4vLi4vZnJvbnRlbmQvdHlwZXMnXG5pbXBvcnQgeyBvcGVuc2VhRmV0Y2hIZWFkZXJzIH0gZnJvbSAnLi9jb25maWcnXG5cbmV4cG9ydCBjb25zdCBnZXRBc3NldHNGb3JPd25lciA9IGFzeW5jIChvd25lckFkZHJlc3M6IHN0cmluZykgPT4ge1xuICBsZXQgdG90YWxBc3NldHM6IGFueVtdID0gW11cbiAgLy8gSW5maW5pdGUgbG9vcCB1bnRpbCBhbGwgYXNzZXRzIGFyZSBmZXRjaGVkXG4gIHdoaWxlICgxKSB7XG4gICAgLy8gQ29uc3RydWN0IHJlcXVlc3QgdXJsXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW5zZWEuaW8vYXBpL3YxL2Fzc2V0cz9vd25lcj0ke293bmVyQWRkcmVzc30mb3JkZXJfZGlyZWN0aW9uPWRlc2Mmb2Zmc2V0PSR7dG90YWxBc3NldHMubGVuZ3RofSZsaW1pdD01MGBcbiAgICBjb25zb2xlLmxvZyhgICAgTWFraW5nIE9wZW5zZWEgQVBJIENhbGw6ICR7dXJsfWApXG5cbiAgICAvLyBGZXRjaCB3aXRoIGFkZHJlc3MgYW5kIHRoZSBjdXJyZW50IG9mZnNldCBzZXQgdG8gdGhlIG51bWJlciBvZiBhbHJlYWR5IGZldGNoZWQgYXNzZXRzXG4gICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKHVybCwgb3BlbnNlYUZldGNoSGVhZGVycylcbiAgICBjb25zdCB7IGFzc2V0cywgZGV0YWlsIH0gPSBhd2FpdCByZXNwLmpzb24oKVxuXG4gICAgLy8gVGhpcyBtZWFucyB0aGUgcmVxdWVzdCB3YXMgdGhyb3R0bGVkXG4gICAgaWYgKGRldGFpbCkge1xuICAgICAgY29uc29sZS5lcnJvcihgT3BlbnNlYSBhc3NldHMgZm9yIG93bmVyICR7b3duZXJBZGRyZXNzfTogJHtkZXRhaWx9YClcbiAgICAgIHRocm93IG5ldyBFcnJvcihkZXRhaWwpXG4gICAgfVxuXG4gICAgaWYgKGFzc2V0cykge1xuICAgICAgdG90YWxBc3NldHMgPSBbLi4udG90YWxBc3NldHMsIC4uLmFzc2V0c11cbiAgICAgIC8vIElmIHdlIGdldCBsZXNzIHRoYW4gdGhlIGxpbWl0IG9mIDUwIGFzc2V0cywgd2Uga25vdyB3ZSd2ZSBmZXRjaGVkIGV2ZXJ5dGhpbmdcbiAgICAgIGlmIChhc3NldHMubGVuZ3RoIDwgNTApIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYENvdWxkIG5vdCBmZXRjaCBhc3NldHMgZm9yIGVuZHBvaW50OiAke3VybH1gKVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRvdGFsQXNzZXRzXG59XG5cbi8qKlxuICogRmV0Y2hlcyB0aGUgY29sbGVjdGlvbiBzdGF0cyBmcm9tIHRoZSBvcGVuc2VhIEFQSSAvY29sbGVjdGlvbi97c2x1Z30vc3RhdHMgZW5kcG9pbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbGxlY3Rpb25TdGF0cyA9IGFzeW5jIChzbHVnOiBzdHJpbmcpID0+IHtcbiAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW5zZWEuaW8vYXBpL3YxL2NvbGxlY3Rpb24vJHtzbHVnfS9zdGF0c2BcbiAgY29uc29sZS5sb2coYCAgIE1ha2luZyBPcGVuc2VhIEFQSSBDYWxsOiAke3VybH1gKVxuICBjb25zdCB7IHN0YXRzLCBkZXRhaWwsIGVycm9yIH0gPSBhd2FpdCBmZXRjaCh1cmwsIG9wZW5zZWFGZXRjaEhlYWRlcnMpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgcmV0dXJuIHsgZXJyb3IgfVxuICAgIH0pXG5cbiAgLy8gVGhpcyBjb3VsZCBtZWFuIHRoYXQgdGhlIGNvbGxlY3Rpb24gdW5kZXIgdGhpcyBzbHVnIG5vIGxvbmdlciBleGlzdHMgKDQwNClcbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgc3RhdHMgZm9yIHNsdWcgJHtzbHVnfTogJHtlcnJvci50b1N0cmluZygpfWApXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIC8vIFRoaXMgbWVhbnMgdGhlIHJlcXVlc3Qgd2FzIHRocm90dGxlZFxuICBpZiAoZGV0YWlsKSB7XG4gICAgY29uc29sZS5lcnJvcihgXFxuT3BlbnNlYSBjb2xsZWN0aW9uIHN0YXRzICR7c2x1Z306ICR7ZGV0YWlsfVxcbmApXG4gICAgdGhyb3cgbmV3IEVycm9yKGBPcGVuc2VhIHRocm90dGxlZCByZXF1ZXN0IGZvciAke3NsdWd9ICgke3VybH0pYClcbiAgfVxuICByZXR1cm4gc3RhdHNcbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBJQ29sbGVjdGlvbidzIGZyb20gT3BlbnNlYSBhc3NldHNcbiAqIEBwYXJhbSBhc3NldHMgT3BlbnNlYSBhc3NldCBkYXRhIHJldHVybmVkIGZyb20gL2Fzc2V0cyBlbmRwb2ludFxuICovXG5leHBvcnQgY29uc3QgcHJ1bmVBbmRSZW1vdmVEdXBsaWNhdGVDb2xsZWN0aW9ucyA9IChcbiAgYXNzZXRzOiBhbnlbXSxcbik6IE9taXQ8SUNvbGxlY3Rpb24sICd1cGRhdGVkX2F0JyB8ICdjcmVhdGVkX2F0JyB8ICdpc19zdGF0c19mZXRjaGVkJz5bXSA9PiB7XG4gIC8vIENyZWF0ZSBhbiBvYmplY3Qgd2hlcmUgdGhlIGtleSBpcyB0aGUgY29sbGVjdGlvbiBzbHVnIGFuZCB0aGUgdmFsdWUgaXMgdGhlIHBydW5lZCBjb2xsZWN0aW9uIGRhdGFcbiAgY29uc3QgYnlDb2xsZWN0aW9uID0gYXNzZXRzLnJlZHVjZShcbiAgICAoYWNjOiB7IFtrZXk6IHN0cmluZ106IE9taXQ8SUNvbGxlY3Rpb24sICd1cGRhdGVkX2F0JyB8ICdjcmVhdGVkX2F0JyB8ICdpc19zdGF0c19mZXRjaGVkJz4gfSwgYXNzZXQ6IGFueSkgPT4ge1xuICAgICAgY29uc3QgeyBjb2xsZWN0aW9uIH0gPSBhc3NldFxuXG4gICAgICAvLyBBZGQgdGhlIHBydW5lZCBjb2xsZWN0aW9uIHRvIHRoZSBhY2N1bXVsYXRlZCBvYmplY3QgaWYgbm90IGFscmVhZHkgdGhlcmVcbiAgICAgIGlmICghYWNjW2NvbGxlY3Rpb24uc2x1Z10pIHtcbiAgICAgICAgLy8gUHJ1bmUgdGhlIGNvbGxlY3Rpb25cbiAgICAgICAgY29uc3QgcHJ1bmVkQ29sbGVjdGlvbjogT21pdDxJQ29sbGVjdGlvbiwgJ3VwZGF0ZWRfYXQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ2lzX3N0YXRzX2ZldGNoZWQnPiA9IHtcbiAgICAgICAgICBjb250cmFjdF9hZGRyZXNzOiBhc3NldC5hc3NldF9jb250cmFjdC5hZGRyZXNzLFxuICAgICAgICAgIG5hbWU6IGNvbGxlY3Rpb24ubmFtZSxcbiAgICAgICAgICBzbHVnOiBjb2xsZWN0aW9uLnNsdWcsXG4gICAgICAgICAgaW1hZ2VfdXJsOiBjb2xsZWN0aW9uLmltYWdlX3VybCxcbiAgICAgICAgICB0d2l0dGVyX3VzZXJuYW1lOiBjb2xsZWN0aW9uLnR3aXR0ZXJfdXNlcm5hbWUsXG4gICAgICAgICAgZGlzY29yZF91cmw6IGNvbGxlY3Rpb24uZGlzY29yZF91cmwsXG4gICAgICAgICAgZXh0ZXJuYWxfdXJsOiBjb2xsZWN0aW9uLmV4dGVybmFsX3VybCxcbiAgICAgICAgfVxuICAgICAgICBhY2NbY29sbGVjdGlvbi5zbHVnXSA9IHBydW5lZENvbGxlY3Rpb25cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFjY1xuICAgIH0sXG4gICAge30sXG4gIClcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoYnlDb2xsZWN0aW9uKVxufVxuXG4vKipcbiAqIFR1cm5zIE9wZW5zZWEgYXNzZXQgaW50byBJQXNzZXRcbiAqIEBwYXJhbSBhc3NldHMgT3BlbnNlYSBhc3NldCBkYXRhIHJldHVybmVkIGZyb20gL2Fzc2V0cyBlbmRwb2ludFxuICovXG5leHBvcnQgY29uc3QgcHJ1bmVBc3NldCA9IChhc3NldDogSU9wZW5zZWFBc3NldCk6IElBc3NldCA9PiB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogYXNzZXQubmFtZSxcbiAgICBjb250cmFjdF9hZGRyZXNzOiBhc3NldC5hc3NldF9jb250cmFjdC5hZGRyZXNzLFxuICAgIGRlc2NyaXB0aW9uOiBhc3NldC5kZXNjcmlwdGlvbixcbiAgICBpbWFnZV91cmw6IGFzc2V0LmltYWdlX3VybCxcbiAgICBsaW5rOiBhc3NldC5wZXJtYWxpbmssXG4gICAgdG9rZW5faWQ6IGFzc2V0LnRva2VuX2lkLFxuICAgIGxhc3Rfc2FsZTogYXNzZXQubGFzdF9zYWxlID8gcGFyc2VGbG9hdCh3ZWIzLnV0aWxzLmZyb21XZWkoYXNzZXQubGFzdF9zYWxlLnRvdGFsX3ByaWNlKSkgOiB1bmRlZmluZWQsXG4gIH1cbn1cblxuLyoqXG4gKiBUYWtlcyBhIGNvbnRyYWN0IGFkZHJlc3MgYW5kIGZldGNoZXMgdGhlIGNvbGxlY3Rpb24gZGF0YSBmcm9tIG9wZW5zZWFcbiAqIEBwYXJhbSBjb250cmFjdEFkZHJlc3MgdGhlIGFkZHJlc3Mgb2YgdGhlIG5mdCBjb2xsZWN0aW9uXG4gKiBAcmV0dXJucyBhIHBydW5lZCBvcGVuc2VhIGNvbGxlY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGZldGNoT3BlbnNlYUNvbGxlY3Rpb25Gcm9tQ29udHJhY3RBZGRyZXNzID0gYXN5bmMgKFxuICBjb250cmFjdEFkZHJlc3M6IHN0cmluZyxcbik6IFByb21pc2U8T21pdDxJQ29sbGVjdGlvbiwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnIHwgJ2lzX3N0YXRzX2ZldGNoZWQnPj4gPT4ge1xuICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9hcGkub3BlbnNlYS5pby9hcGkvdjEvYXNzZXRfY29udHJhY3QvJHtjb250cmFjdEFkZHJlc3N9YFxuICBjb25zb2xlLmxvZyhgICAgTWFraW5nIE9wZW5zZWEgQVBJIENhbGw6ICR7dXJsfWApXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGZldGNoKHVybCkudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxuICBjb25zdCB7IGNvbGxlY3Rpb24sIGRldGFpbCB9ID0gcmVzdWx0XG5cbiAgLy8gVGhpcyBtZWFucyByZXF1ZXN0IHdhcyB0aHJvdHRsZWRcbiAgaWYgKGRldGFpbCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYFJlcXVlc3QgZm9yIG9wZW5zZWEgYXNzZXRfY29udHJhY3QgJHtjb250cmFjdEFkZHJlc3N9OiAke2RldGFpbH1gKVxuICAgIHRocm93IG5ldyBFcnJvcihkZXRhaWwpXG4gIH1cblxuICBjb25zdCBwcnVuZWRDb2xsZWN0aW9uID0ge1xuICAgIGNvbnRyYWN0X2FkZHJlc3M6IGNvbnRyYWN0QWRkcmVzcyxcbiAgICBuYW1lOiBjb2xsZWN0aW9uLm5hbWUsXG4gICAgc2x1ZzogY29sbGVjdGlvbi5zbHVnLFxuICAgIGltYWdlX3VybDogY29sbGVjdGlvbi5pbWFnZV91cmwsXG4gICAgdHdpdHRlcl91c2VybmFtZTogY29sbGVjdGlvbi50d2l0dGVyX3VzZXJuYW1lLFxuICAgIGRpc2NvcmRfdXJsOiBjb2xsZWN0aW9uLmRpc2NvcmRfdXJsLFxuICAgIGV4dGVybmFsX3VybDogY29sbGVjdGlvbi5leHRlcm5hbF91cmwsXG4gIH1cbiAgcmV0dXJuIHBydW5lZENvbGxlY3Rpb25cbn1cblxuLyoqXG4gKiBFeHRyYWN0cyBhbGwgSUFzc2V0cyBmcm9tIGFuIElDb2xsZWN0aW9uc1dpdGhBc3NldHMgb2JqZWN0XG4gKiBAcGFyYW0gY29sbGVjdGlvbnNXaXRoQXNzZXRzIFRoZSBJQ29sbGVjdGlvbnNXaXRoQXNzZXRzIG9iamVjdFxuICogQHJldHVybnMgQWxsIElBc3NldHNcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEFsbEFzc2V0c0Zyb21Db2xsZWN0aW9ucyA9IChjb2xsZWN0aW9uc1dpdGhBc3NldHM6IElDb2xsZWN0aW9uc1dpdGhBc3NldHMpID0+IHtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMoY29sbGVjdGlvbnNXaXRoQXNzZXRzKS5yZWR1Y2UoKGFjYzogSUFzc2V0W10sIGN1cnIpID0+IHtcbiAgICByZXR1cm4gWy4uLmFjYywgLi4uY3Vyci5hc3NldHNdXG4gIH0sIFtdKVxufVxuIl0sIm5hbWVzIjpbIndlYjMiLCJvcGVuc2VhRmV0Y2hIZWFkZXJzIiwiZ2V0QXNzZXRzRm9yT3duZXIiLCJvd25lckFkZHJlc3MiLCJ0b3RhbEFzc2V0cyIsInVybCIsImxlbmd0aCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwIiwiZmV0Y2giLCJhc3NldHMiLCJkZXRhaWwiLCJqc29uIiwiZXJyb3IiLCJFcnJvciIsImdldENvbGxlY3Rpb25TdGF0cyIsInNsdWciLCJzdGF0cyIsInRoZW4iLCJyZXNwb25zZSIsImNhdGNoIiwidG9TdHJpbmciLCJwcnVuZUFuZFJlbW92ZUR1cGxpY2F0ZUNvbGxlY3Rpb25zIiwiYnlDb2xsZWN0aW9uIiwicmVkdWNlIiwiYWNjIiwiYXNzZXQiLCJjb2xsZWN0aW9uIiwicHJ1bmVkQ29sbGVjdGlvbiIsImNvbnRyYWN0X2FkZHJlc3MiLCJhc3NldF9jb250cmFjdCIsImFkZHJlc3MiLCJuYW1lIiwiaW1hZ2VfdXJsIiwidHdpdHRlcl91c2VybmFtZSIsImRpc2NvcmRfdXJsIiwiZXh0ZXJuYWxfdXJsIiwiT2JqZWN0IiwidmFsdWVzIiwicHJ1bmVBc3NldCIsImRlc2NyaXB0aW9uIiwibGluayIsInBlcm1hbGluayIsInRva2VuX2lkIiwibGFzdF9zYWxlIiwicGFyc2VGbG9hdCIsInV0aWxzIiwiZnJvbVdlaSIsInRvdGFsX3ByaWNlIiwidW5kZWZpbmVkIiwiZmV0Y2hPcGVuc2VhQ29sbGVjdGlvbkZyb21Db250cmFjdEFkZHJlc3MiLCJjb250cmFjdEFkZHJlc3MiLCJyZXN1bHQiLCJyZXMiLCJnZXRBbGxBc3NldHNGcm9tQ29sbGVjdGlvbnMiLCJjb2xsZWN0aW9uc1dpdGhBc3NldHMiLCJjdXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/opensea/collections.ts?ca6c\n");

/***/ }),

/***/ "./lib/opensea/config.ts?91fe":
/*!*******************************!*\
  !*** ./lib/opensea/config.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"openseaFetchHeaders\": () => (/* binding */ openseaFetchHeaders)\n/* harmony export */ });\n// This just modularizes the opensea fetch header used in all opensea API fetches\n// Fetch opensea API key\nconst openseaAPIKey = process.env.OPENSEA_API_KEY;\n// Warn if the opensea API key is not available\nif (!openseaAPIKey) console.warn('Cannot find opensea API key (OPENSEA_API_KEY)');\n// Construct header object to pass api key to each fetch\nconst openseaFetchHeaders = {\n    headers: {\n        // Attach the opensea API key as a header if it's available\n        ...openseaAPIKey && {\n            'X-API-KEY': openseaAPIKey\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvb3BlbnNlYS9jb25maWcudHM/OTFmZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsRUFBaUY7QUFFakYsRUFBd0I7QUFDeEIsS0FBSyxDQUFDQSxhQUFhLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxlQUFlO0FBRWpELEVBQStDO0FBQy9DLEVBQUUsR0FBR0gsYUFBYSxFQUFFSSxPQUFPLENBQUNDLElBQUksQ0FBQyxDQUErQztBQUVoRixFQUF3RDtBQUNqRCxLQUFLLENBQUNDLG1CQUFtQixHQUFHLENBQUM7SUFDbENDLE9BQU8sRUFBRSxDQUFDO1FBQ1IsRUFBMkQ7V0FDdkRQLGFBQWEsSUFBSSxDQUFDO1lBQUMsQ0FBVyxZQUFFQSxhQUFhO1FBQUMsQ0FBQztJQUNyRCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BhcGUtbW9uaXRvci93d3cvLi9saWIvb3BlbnNlYS9jb25maWcudHM/OWM1MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGlzIGp1c3QgbW9kdWxhcml6ZXMgdGhlIG9wZW5zZWEgZmV0Y2ggaGVhZGVyIHVzZWQgaW4gYWxsIG9wZW5zZWEgQVBJIGZldGNoZXNcblxuLy8gRmV0Y2ggb3BlbnNlYSBBUEkga2V5XG5jb25zdCBvcGVuc2VhQVBJS2V5ID0gcHJvY2Vzcy5lbnYuT1BFTlNFQV9BUElfS0VZXG5cbi8vIFdhcm4gaWYgdGhlIG9wZW5zZWEgQVBJIGtleSBpcyBub3QgYXZhaWxhYmxlXG5pZiAoIW9wZW5zZWFBUElLZXkpIGNvbnNvbGUud2FybignQ2Fubm90IGZpbmQgb3BlbnNlYSBBUEkga2V5IChPUEVOU0VBX0FQSV9LRVkpJylcblxuLy8gQ29uc3RydWN0IGhlYWRlciBvYmplY3QgdG8gcGFzcyBhcGkga2V5IHRvIGVhY2ggZmV0Y2hcbmV4cG9ydCBjb25zdCBvcGVuc2VhRmV0Y2hIZWFkZXJzID0ge1xuICBoZWFkZXJzOiB7XG4gICAgLy8gQXR0YWNoIHRoZSBvcGVuc2VhIEFQSSBrZXkgYXMgYSBoZWFkZXIgaWYgaXQncyBhdmFpbGFibGVcbiAgICAuLi4ob3BlbnNlYUFQSUtleSAmJiB7ICdYLUFQSS1LRVknOiBvcGVuc2VhQVBJS2V5IH0pLFxuICB9LFxufVxuIl0sIm5hbWVzIjpbIm9wZW5zZWFBUElLZXkiLCJwcm9jZXNzIiwiZW52IiwiT1BFTlNFQV9BUElfS0VZIiwiY29uc29sZSIsIndhcm4iLCJvcGVuc2VhRmV0Y2hIZWFkZXJzIiwiaGVhZGVycyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/opensea/config.ts?91fe\n");

/***/ }),

/***/ "./lib/opensea/events.ts":
/*!*******************************!*\
  !*** ./lib/opensea/events.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getEventsForOwner\": () => (/* binding */ getEventsForOwner),\n/* harmony export */   \"unbundleEvent\": () => (/* binding */ unbundleEvent),\n/* harmony export */   \"unbundleEvents\": () => (/* binding */ unbundleEvents),\n/* harmony export */   \"getEventsBySuccessfulSalesAndBuys\": () => (/* binding */ getEventsBySuccessfulSalesAndBuys),\n/* harmony export */   \"getTradesByCollectionAndTradeStatsForOwner\": () => (/* binding */ getTradesByCollectionAndTradeStatsForOwner),\n/* harmony export */   \"pruneEvent\": () => (/* binding */ pruneEvent)\n/* harmony export */ });\n/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! web3 */ \"web3\");\n/* harmony import */ var web3__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(web3__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./config */ \"./lib/opensea/config.ts?91fe\");\n/* harmony import */ var _collections__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collections */ \"./lib/opensea/collections.ts?ca6c\");\n\n\n\n/**\n * Fetches the events (buy/sells) for a given address\n */ const getEventsForOwner = async (ownerAddress)=>{\n    let totalAssetEvents = [];\n    const limit = 300;\n    const maxIterations = 1;\n    let currentIteration = 0;\n    while(currentIteration < maxIterations){\n        currentIteration++;\n        // Construct request url\n        const url = `https://api.opensea.io/api/v1/events?account_address=${ownerAddress}&only_opensea=false&offset=${totalAssetEvents.length}&limit=${limit}`;\n        console.log(`   Making Opensea API Call: ${url}`);\n        // Fetch with address and the current offset set to the number of already fetched asset_events\n        const { asset_events  } = await fetch(url, _config__WEBPACK_IMPORTED_MODULE_1__.openseaFetchHeaders).then((resp)=>resp.json()\n        );\n        if (asset_events) {\n            totalAssetEvents = [\n                ...totalAssetEvents,\n                ...asset_events\n            ];\n            // If we get less than the limit of 50 asset_events, we know we've fetched everything\n            if (asset_events.length < limit) break;\n        } else {\n            console.error(`Could not fetch events for endpoint: ${url}`);\n            break;\n        }\n    }\n    return totalAssetEvents;\n};\nconst unbundleEvent = (bundledEvent)=>{\n    console.warn(`Reached unbundle event!!!`);\n    if (bundledEvent.asset_bundle) {\n        return bundledEvent.asset_bundle.assets.map((asset)=>{\n            return {\n                ...bundledEvent,\n                ...asset\n            };\n        });\n    } else {\n        return [\n            bundledEvent\n        ];\n    }\n};\nconst unbundleEvents = (events)=>{\n    const unbundledEvents = events.reduce((acc, event)=>{\n        if (event.asset_bundle) {\n            for (const unbundledEvent of unbundleEvent(event)){\n                acc.push(unbundledEvent);\n            }\n        } else {\n            acc.push(event);\n        }\n        return acc;\n    }, []);\n    return unbundledEvents;\n};\nconst getEventsBySuccessfulSalesAndBuys = (events, ownerAddress)=>{\n    // Filter for successful event_types\n    const successfulEvents = events.filter((event)=>event.event_type === 'successful'\n    );\n    // Retrieve sales\n    const sales = successfulEvents.reduce((acc, event)=>{\n        // Trade order is just a unique id to match across sale/buy events\n        const tradeOrder = event.asset ? event.asset.permalink : event.asset_bundle.permalink;\n        if (event.seller && event.seller.address.toLowerCase() === ownerAddress) acc[tradeOrder] = event;\n        return acc;\n    }, {\n    });\n    // Retrieve buys\n    const buys = successfulEvents.reduce((acc, event)=>{\n        const tradeOrder = event.asset ? event.asset.permalink : event.asset_bundle.permalink;\n        if (event.winner_account && event.winner_account.address.toLowerCase() === ownerAddress) acc[tradeOrder] = event;\n        return acc;\n    }, {\n    });\n    return {\n        sales,\n        buys\n    };\n};\n/**\n *  Does the data-wrangling work for turning events into usable stats\n * @param events List of events returned from getEventsForOwner\n * @param ownerAddress Owner address of these assets\n * @returns\n */ const getTradesByCollectionAndTradeStatsForOwner = (sales, buys)=>{\n    // Retrieve sales that have a matching buy and calculate total stats\n    const tradesByCollection = Object.keys(sales).reduce((acc, saleId)=>{\n        // Only include trade if there is a matching buy\n        if (Object.keys(buys).includes(saleId)) {\n            // Fetch matched sale and buy trades\n            const sale = sales[saleId];\n            const buy = buys[saleId];\n            // Fetch sale and buy prices for this asset\n            const salePrice = parseFloat(web3__WEBPACK_IMPORTED_MODULE_0___default().utils.fromWei(sale.total_price));\n            const buyPrice = parseFloat(web3__WEBPACK_IMPORTED_MODULE_0___default().utils.fromWei(buy.total_price));\n            // Get profit for this asset\n            const profit = salePrice - buyPrice;\n            // Get sale and buy dates for this asset\n            const saleDate = Date.parse(sale.created_date);\n            const buyDate = Date.parse(buy.created_date);\n            // Get the hold time\n            const holdTime = saleDate - buyDate;\n            // Prepare the asset data\n            const prunedAsset = {\n                image_thumbnail_url: sale.asset.image_thumbnail_url,\n                name: sale.asset.name,\n                salePrice,\n                buyPrice,\n                profit,\n                buyDate,\n                saleDate,\n                holdTime\n            };\n            // Fetch collection\n            const { collection  } = sale.asset;\n            if (acc[collection.slug]) {\n                // If the collection has been seen before, calculate new total stats and add the asset to its array\n                // Number of assets traded under this collection so far\n                const numAssetsSoFar = acc[collection.slug].assets.length;\n                // Calculate average sale price\n                const averageSalePriceSoFar = acc[collection.slug].averageSalePrice;\n                const averageSalePrice = (averageSalePriceSoFar * numAssetsSoFar + salePrice) / (numAssetsSoFar + 1);\n                // Calculate average buy price\n                const averageBuyPriceSoFar = acc[collection.slug].averageBuyPrice;\n                const averageBuyPrice = (averageBuyPriceSoFar * numAssetsSoFar + buyPrice) / (numAssetsSoFar + 1);\n                // Calculate total profit\n                const totalProfit = acc[collection.slug].totalProfit + profit;\n                // Calculate average hold time\n                const averageHoldTimeSoFar = acc[collection.slug].averageHoldTime;\n                const averageHoldTime = (averageHoldTimeSoFar * numAssetsSoFar + holdTime) / (numAssetsSoFar + 1);\n                acc[collection.slug] = {\n                    // Maintain old collection data\n                    ...acc[collection.slug],\n                    // Add new asset to array\n                    assets: [\n                        ...acc[collection.slug].assets,\n                        prunedAsset\n                    ],\n                    // Updated stats\n                    averageSalePrice,\n                    averageBuyPrice,\n                    averageHoldTime,\n                    totalProfit\n                };\n            } else {\n                // If this is a new collection, prune the data and initialize its object\n                // Prepare the collection data\n                const prunedCollection = {\n                    name: collection.name,\n                    slug: collection.slug,\n                    image_url: collection.image_url\n                };\n                // Calculate total stats\n                acc[collection.slug] = {\n                    ...prunedCollection,\n                    assets: [\n                        prunedAsset\n                    ],\n                    totalProfit: profit,\n                    averageSalePrice: salePrice,\n                    averageBuyPrice: buyPrice,\n                    averageHoldTime: holdTime\n                };\n            }\n        }\n        return acc;\n    }, {\n    });\n    // Calculate total stats\n    // Calculate best trade based on collection averages\n    const maxProfit = Math.max(...Object.values(tradesByCollection).map((collection)=>Number(collection.totalProfit)\n    ));\n    const bestTradeCollection = Object.values(tradesByCollection).filter((collection)=>collection.totalProfit == maxProfit && collection.totalProfit > 0\n    )[0];\n    // Calculate worst trade based on collection averages\n    const minProfit = Math.min(...Object.values(tradesByCollection).map((collection)=>Number(collection.totalProfit)\n    ));\n    const worstTradeCollection = Object.values(tradesByCollection).filter((collection)=>collection.totalProfit == minProfit && collection.totalProfit < 0\n    )[0];\n    // Create total stats object\n    const totalTradeStats = {\n        bestTrade: bestTradeCollection,\n        worstTrade: worstTradeCollection\n    };\n    return {\n        tradesByCollection,\n        totalTradeStats\n    };\n};\nconst getEventFromAddress = (event)=>{\n    return event.from_account.address;\n};\nconst getEventToAddress = (event)=>{\n    return event.to_account.address;\n};\nconst getCollectionFromEvent = (event)=>{\n    return {\n        contract_address: event.asset.asset_contract.address,\n        name: event.asset.collection.name,\n        slug: event.asset.collection.slug,\n        image_url: event.asset.collection.image_url,\n        twitter_username: event.asset.collection.twitter_username,\n        discord_url: event.asset.collection.discord_url,\n        external_url: event.asset.collection.external_url\n    };\n};\nconst getAssetFromEvent = (event)=>{\n    return (0,_collections__WEBPACK_IMPORTED_MODULE_2__.pruneAsset)(event.asset);\n};\nconst getEventType = (event)=>{\n    return event.event_type;\n};\nconst pruneEvent = (event)=>{\n    var ref, ref1, ref2, ref3;\n    const prunedEvent = {\n        date: event.created_date,\n        asset: getAssetFromEvent(event),\n        collection: getCollectionFromEvent(event),\n        type: getEventType(event),\n        // If 'successful' it means this is a sale/buy\n        // Retrieve seller/winner data and price\n        ...getEventType(event) === 'successful' && {\n            sellerAddress: event.seller.address,\n            sellerUsername: (ref = event.seller.user) === null || ref === void 0 ? void 0 : ref.username,\n            buyerAddress: event.winner_account.address,\n            buyerUsername: (ref1 = event.winner_account.user) === null || ref1 === void 0 ? void 0 : ref1.username,\n            price: parseFloat(web3__WEBPACK_IMPORTED_MODULE_0___default().utils.fromWei(event.total_price))\n        },\n        // If 'transfer', retrieve from/to data\n        ...getEventType(event) === 'transfer' && {\n            fromAddress: event.from_account.address,\n            fromUsername: (ref2 = event.from_account.user) === null || ref2 === void 0 ? void 0 : ref2.username,\n            toAddress: event.to_account.address,\n            toUsername: (ref3 = event.to_account.user) === null || ref3 === void 0 ? void 0 : ref3.username\n        }\n    };\n    return prunedEvent;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVrRixRQUFRO1lBQy9DTSxTQUFTLEVBQUV4RixLQUFLLENBQUNrRSxVQUFVLENBQUN2RCxPQUFPO1lBQ25DOEUsVUFBVSxHQUFFekYsSUFBcUIsR0FBckJBLEtBQUssQ0FBQ2tFLFVBQVUsQ0FBQ2UsSUFBSSxjQUFyQmpGLElBQXFCLEtBQXJCQSxJQUFJLENBQUpBLENBQStCLEdBQS9CQSxJQUFJLENBQUpBLENBQStCLEdBQS9CQSxJQUFxQixDQUFFa0YsUUFBUTtRQUM3QyxDQUFDO0lBQ0gsQ0FBQztJQUNELE1BQU0sQ0FBQ04sV0FBVztBQUNwQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGFwZS1tb25pdG9yL3d3dy8uL2xpYi9vcGVuc2VhL2V2ZW50cy50cz8xOTk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3ZWIzIGZyb20gJ3dlYjMnXG5cbmltcG9ydCB7IElDb2xsZWN0aW9uLCBJRXZlbnQsIElPcGVuU2VhRXZlbnQsIElBc3NldCB9IGZyb20gJy4uLy4uL2Zyb250ZW5kL3R5cGVzJ1xuaW1wb3J0IHsgb3BlbnNlYUZldGNoSGVhZGVycyB9IGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHsgcHJ1bmVBc3NldCB9IGZyb20gJy4vY29sbGVjdGlvbnMnXG5cbi8qKlxuICogRmV0Y2hlcyB0aGUgZXZlbnRzIChidXkvc2VsbHMpIGZvciBhIGdpdmVuIGFkZHJlc3NcbiAqL1xuZXhwb3J0IGNvbnN0IGdldEV2ZW50c0Zvck93bmVyID0gYXN5bmMgKG93bmVyQWRkcmVzczogc3RyaW5nKSA9PiB7XG4gIGxldCB0b3RhbEFzc2V0RXZlbnRzOiBJT3BlblNlYUV2ZW50W10gPSBbXVxuXG4gIGNvbnN0IGxpbWl0ID0gMzAwXG4gIGNvbnN0IG1heEl0ZXJhdGlvbnMgPSAxXG5cbiAgbGV0IGN1cnJlbnRJdGVyYXRpb24gPSAwXG4gIHdoaWxlIChjdXJyZW50SXRlcmF0aW9uIDwgbWF4SXRlcmF0aW9ucykge1xuICAgIGN1cnJlbnRJdGVyYXRpb24rK1xuXG4gICAgLy8gQ29uc3RydWN0IHJlcXVlc3QgdXJsXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLm9wZW5zZWEuaW8vYXBpL3YxL2V2ZW50cz9hY2NvdW50X2FkZHJlc3M9JHtvd25lckFkZHJlc3N9Jm9ubHlfb3BlbnNlYT1mYWxzZSZvZmZzZXQ9JHt0b3RhbEFzc2V0RXZlbnRzLmxlbmd0aH0mbGltaXQ9JHtsaW1pdH1gXG4gICAgY29uc29sZS5sb2coYCAgIE1ha2luZyBPcGVuc2VhIEFQSSBDYWxsOiAke3VybH1gKVxuXG4gICAgLy8gRmV0Y2ggd2l0aCBhZGRyZXNzIGFuZCB0aGUgY3VycmVudCBvZmZzZXQgc2V0IHRvIHRoZSBudW1iZXIgb2YgYWxyZWFkeSBmZXRjaGVkIGFzc2V0X2V2ZW50c1xuICAgIGNvbnN0IHsgYXNzZXRfZXZlbnRzIH0gPSBhd2FpdCBmZXRjaCh1cmwsIG9wZW5zZWFGZXRjaEhlYWRlcnMpLnRoZW4oKHJlc3ApID0+IHJlc3AuanNvbigpKVxuXG4gICAgaWYgKGFzc2V0X2V2ZW50cykge1xuICAgICAgdG90YWxBc3NldEV2ZW50cyA9IFsuLi50b3RhbEFzc2V0RXZlbnRzLCAuLi5hc3NldF9ldmVudHNdXG4gICAgICAvLyBJZiB3ZSBnZXQgbGVzcyB0aGFuIHRoZSBsaW1pdCBvZiA1MCBhc3NldF9ldmVudHMsIHdlIGtub3cgd2UndmUgZmV0Y2hlZCBldmVyeXRoaW5nXG4gICAgICBpZiAoYXNzZXRfZXZlbnRzLmxlbmd0aCA8IGxpbWl0KSBicmVha1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZmV0Y2ggZXZlbnRzIGZvciBlbmRwb2ludDogJHt1cmx9YClcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiB0b3RhbEFzc2V0RXZlbnRzXG59XG5cbmV4cG9ydCBjb25zdCB1bmJ1bmRsZUV2ZW50ID0gKGJ1bmRsZWRFdmVudDogSU9wZW5TZWFFdmVudCkgPT4ge1xuICBjb25zb2xlLndhcm4oYFJlYWNoZWQgdW5idW5kbGUgZXZlbnQhISFgKVxuICBpZiAoYnVuZGxlZEV2ZW50LmFzc2V0X2J1bmRsZSkge1xuICAgIHJldHVybiBidW5kbGVkRXZlbnQuYXNzZXRfYnVuZGxlLmFzc2V0cy5tYXAoKGFzc2V0OiBhbnkpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJ1bmRsZWRFdmVudCxcbiAgICAgICAgLi4uYXNzZXQsXG4gICAgICB9XG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gW2J1bmRsZWRFdmVudF1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdW5idW5kbGVFdmVudHMgPSAoZXZlbnRzOiBJT3BlblNlYUV2ZW50W10pID0+IHtcbiAgY29uc3QgdW5idW5kbGVkRXZlbnRzID0gZXZlbnRzLnJlZHVjZSgoYWNjOiBJT3BlblNlYUV2ZW50W10sIGV2ZW50OiBJT3BlblNlYUV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmFzc2V0X2J1bmRsZSkge1xuICAgICAgZm9yIChjb25zdCB1bmJ1bmRsZWRFdmVudCBvZiB1bmJ1bmRsZUV2ZW50KGV2ZW50KSkge1xuICAgICAgICBhY2MucHVzaCh1bmJ1bmRsZWRFdmVudClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYWNjLnB1c2goZXZlbnQpXG4gICAgfVxuICAgIHJldHVybiBhY2NcbiAgfSwgW10pXG4gIHJldHVybiB1bmJ1bmRsZWRFdmVudHNcbn1cblxuZXhwb3J0IGNvbnN0IGdldEV2ZW50c0J5U3VjY2Vzc2Z1bFNhbGVzQW5kQnV5cyA9IChldmVudHM6IElPcGVuU2VhRXZlbnQsIG93bmVyQWRkcmVzczogc3RyaW5nKSA9PiB7XG4gIC8vIEZpbHRlciBmb3Igc3VjY2Vzc2Z1bCBldmVudF90eXBlc1xuICBjb25zdCBzdWNjZXNzZnVsRXZlbnRzID0gZXZlbnRzLmZpbHRlcigoZXZlbnQ6IElPcGVuU2VhRXZlbnQpID0+IGV2ZW50LmV2ZW50X3R5cGUgPT09ICdzdWNjZXNzZnVsJylcblxuICAvLyBSZXRyaWV2ZSBzYWxlc1xuICBjb25zdCBzYWxlcyA9IHN1Y2Nlc3NmdWxFdmVudHMucmVkdWNlKChhY2M6IGFueSwgZXZlbnQ6IElPcGVuU2VhRXZlbnQpID0+IHtcbiAgICAvLyBUcmFkZSBvcmRlciBpcyBqdXN0IGEgdW5pcXVlIGlkIHRvIG1hdGNoIGFjcm9zcyBzYWxlL2J1eSBldmVudHNcbiAgICBjb25zdCB0cmFkZU9yZGVyID0gZXZlbnQuYXNzZXQgPyBldmVudC5hc3NldC5wZXJtYWxpbmsgOiBldmVudC5hc3NldF9idW5kbGUucGVybWFsaW5rXG4gICAgaWYgKGV2ZW50LnNlbGxlciAmJiBldmVudC5zZWxsZXIuYWRkcmVzcy50b0xvd2VyQ2FzZSgpID09PSBvd25lckFkZHJlc3MpIGFjY1t0cmFkZU9yZGVyXSA9IGV2ZW50XG4gICAgcmV0dXJuIGFjY1xuICB9LCB7fSlcblxuICAvLyBSZXRyaWV2ZSBidXlzXG4gIGNvbnN0IGJ1eXMgPSBzdWNjZXNzZnVsRXZlbnRzLnJlZHVjZSgoYWNjOiBhbnksIGV2ZW50OiBJT3BlblNlYUV2ZW50KSA9PiB7XG4gICAgY29uc3QgdHJhZGVPcmRlciA9IGV2ZW50LmFzc2V0ID8gZXZlbnQuYXNzZXQucGVybWFsaW5rIDogZXZlbnQuYXNzZXRfYnVuZGxlLnBlcm1hbGlua1xuICAgIGlmIChldmVudC53aW5uZXJfYWNjb3VudCAmJiBldmVudC53aW5uZXJfYWNjb3VudC5hZGRyZXNzLnRvTG93ZXJDYXNlKCkgPT09IG93bmVyQWRkcmVzcykgYWNjW3RyYWRlT3JkZXJdID0gZXZlbnRcbiAgICByZXR1cm4gYWNjXG4gIH0sIHt9KVxuICByZXR1cm4geyBzYWxlcywgYnV5cyB9XG59XG5cbi8qKlxuICogIERvZXMgdGhlIGRhdGEtd3JhbmdsaW5nIHdvcmsgZm9yIHR1cm5pbmcgZXZlbnRzIGludG8gdXNhYmxlIHN0YXRzXG4gKiBAcGFyYW0gZXZlbnRzIExpc3Qgb2YgZXZlbnRzIHJldHVybmVkIGZyb20gZ2V0RXZlbnRzRm9yT3duZXJcbiAqIEBwYXJhbSBvd25lckFkZHJlc3MgT3duZXIgYWRkcmVzcyBvZiB0aGVzZSBhc3NldHNcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRUcmFkZXNCeUNvbGxlY3Rpb25BbmRUcmFkZVN0YXRzRm9yT3duZXIgPSAoXG4gIHNhbGVzOiB7IFtrZXk6IHN0cmluZ106IElPcGVuU2VhRXZlbnQgfSxcbiAgYnV5czogeyBba2V5OiBzdHJpbmddOiBJT3BlblNlYUV2ZW50IH0sXG4pID0+IHtcbiAgLy8gUmV0cmlldmUgc2FsZXMgdGhhdCBoYXZlIGEgbWF0Y2hpbmcgYnV5IGFuZCBjYWxjdWxhdGUgdG90YWwgc3RhdHNcbiAgY29uc3QgdHJhZGVzQnlDb2xsZWN0aW9uID0gT2JqZWN0LmtleXMoc2FsZXMpLnJlZHVjZSgoYWNjOiBhbnksIHNhbGVJZDogc3RyaW5nKSA9PiB7XG4gICAgLy8gT25seSBpbmNsdWRlIHRyYWRlIGlmIHRoZXJlIGlzIGEgbWF0Y2hpbmcgYnV5XG4gICAgaWYgKE9iamVjdC5rZXlzKGJ1eXMpLmluY2x1ZGVzKHNhbGVJZCkpIHtcbiAgICAgIC8vIEZldGNoIG1hdGNoZWQgc2FsZSBhbmQgYnV5IHRyYWRlc1xuICAgICAgY29uc3Qgc2FsZSA9IHNhbGVzW3NhbGVJZF1cbiAgICAgIGNvbnN0IGJ1eSA9IGJ1eXNbc2FsZUlkXVxuXG4gICAgICAvLyBGZXRjaCBzYWxlIGFuZCBidXkgcHJpY2VzIGZvciB0aGlzIGFzc2V0XG4gICAgICBjb25zdCBzYWxlUHJpY2UgPSBwYXJzZUZsb2F0KHdlYjMudXRpbHMuZnJvbVdlaShzYWxlLnRvdGFsX3ByaWNlKSlcbiAgICAgIGNvbnN0IGJ1eVByaWNlID0gcGFyc2VGbG9hdCh3ZWIzLnV0aWxzLmZyb21XZWkoYnV5LnRvdGFsX3ByaWNlKSlcblxuICAgICAgLy8gR2V0IHByb2ZpdCBmb3IgdGhpcyBhc3NldFxuICAgICAgY29uc3QgcHJvZml0ID0gc2FsZVByaWNlIC0gYnV5UHJpY2VcblxuICAgICAgLy8gR2V0IHNhbGUgYW5kIGJ1eSBkYXRlcyBmb3IgdGhpcyBhc3NldFxuICAgICAgY29uc3Qgc2FsZURhdGUgPSBEYXRlLnBhcnNlKHNhbGUuY3JlYXRlZF9kYXRlKVxuICAgICAgY29uc3QgYnV5RGF0ZSA9IERhdGUucGFyc2UoYnV5LmNyZWF0ZWRfZGF0ZSlcblxuICAgICAgLy8gR2V0IHRoZSBob2xkIHRpbWVcbiAgICAgIGNvbnN0IGhvbGRUaW1lID0gc2FsZURhdGUgLSBidXlEYXRlXG5cbiAgICAgIC8vIFByZXBhcmUgdGhlIGFzc2V0IGRhdGFcbiAgICAgIGNvbnN0IHBydW5lZEFzc2V0ID0ge1xuICAgICAgICBpbWFnZV90aHVtYm5haWxfdXJsOiBzYWxlLmFzc2V0LmltYWdlX3RodW1ibmFpbF91cmwsXG4gICAgICAgIG5hbWU6IHNhbGUuYXNzZXQubmFtZSxcbiAgICAgICAgc2FsZVByaWNlLFxuICAgICAgICBidXlQcmljZSxcbiAgICAgICAgcHJvZml0LFxuICAgICAgICBidXlEYXRlLFxuICAgICAgICBzYWxlRGF0ZSxcbiAgICAgICAgaG9sZFRpbWUsXG4gICAgICB9XG5cbiAgICAgIC8vIEZldGNoIGNvbGxlY3Rpb25cbiAgICAgIGNvbnN0IHsgY29sbGVjdGlvbiB9ID0gc2FsZS5hc3NldFxuXG4gICAgICBpZiAoYWNjW2NvbGxlY3Rpb24uc2x1Z10pIHtcbiAgICAgICAgLy8gSWYgdGhlIGNvbGxlY3Rpb24gaGFzIGJlZW4gc2VlbiBiZWZvcmUsIGNhbGN1bGF0ZSBuZXcgdG90YWwgc3RhdHMgYW5kIGFkZCB0aGUgYXNzZXQgdG8gaXRzIGFycmF5XG5cbiAgICAgICAgLy8gTnVtYmVyIG9mIGFzc2V0cyB0cmFkZWQgdW5kZXIgdGhpcyBjb2xsZWN0aW9uIHNvIGZhclxuICAgICAgICBjb25zdCBudW1Bc3NldHNTb0ZhciA9IGFjY1tjb2xsZWN0aW9uLnNsdWddLmFzc2V0cy5sZW5ndGhcblxuICAgICAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBzYWxlIHByaWNlXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VTYWxlUHJpY2VTb0ZhciA9IGFjY1tjb2xsZWN0aW9uLnNsdWddLmF2ZXJhZ2VTYWxlUHJpY2VcbiAgICAgICAgY29uc3QgYXZlcmFnZVNhbGVQcmljZSA9IChhdmVyYWdlU2FsZVByaWNlU29GYXIgKiBudW1Bc3NldHNTb0ZhciArIHNhbGVQcmljZSkgLyAobnVtQXNzZXRzU29GYXIgKyAxKVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSBhdmVyYWdlIGJ1eSBwcmljZVxuICAgICAgICBjb25zdCBhdmVyYWdlQnV5UHJpY2VTb0ZhciA9IGFjY1tjb2xsZWN0aW9uLnNsdWddLmF2ZXJhZ2VCdXlQcmljZVxuICAgICAgICBjb25zdCBhdmVyYWdlQnV5UHJpY2UgPSAoYXZlcmFnZUJ1eVByaWNlU29GYXIgKiBudW1Bc3NldHNTb0ZhciArIGJ1eVByaWNlKSAvIChudW1Bc3NldHNTb0ZhciArIDEpXG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRvdGFsIHByb2ZpdFxuICAgICAgICBjb25zdCB0b3RhbFByb2ZpdCA9IGFjY1tjb2xsZWN0aW9uLnNsdWddLnRvdGFsUHJvZml0ICsgcHJvZml0XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIGF2ZXJhZ2UgaG9sZCB0aW1lXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VIb2xkVGltZVNvRmFyID0gYWNjW2NvbGxlY3Rpb24uc2x1Z10uYXZlcmFnZUhvbGRUaW1lXG4gICAgICAgIGNvbnN0IGF2ZXJhZ2VIb2xkVGltZSA9IChhdmVyYWdlSG9sZFRpbWVTb0ZhciAqIG51bUFzc2V0c1NvRmFyICsgaG9sZFRpbWUpIC8gKG51bUFzc2V0c1NvRmFyICsgMSlcblxuICAgICAgICBhY2NbY29sbGVjdGlvbi5zbHVnXSA9IHtcbiAgICAgICAgICAvLyBNYWludGFpbiBvbGQgY29sbGVjdGlvbiBkYXRhXG4gICAgICAgICAgLi4uYWNjW2NvbGxlY3Rpb24uc2x1Z10sXG4gICAgICAgICAgLy8gQWRkIG5ldyBhc3NldCB0byBhcnJheVxuICAgICAgICAgIGFzc2V0czogWy4uLmFjY1tjb2xsZWN0aW9uLnNsdWddLmFzc2V0cywgcHJ1bmVkQXNzZXRdLFxuICAgICAgICAgIC8vIFVwZGF0ZWQgc3RhdHNcbiAgICAgICAgICBhdmVyYWdlU2FsZVByaWNlLFxuICAgICAgICAgIGF2ZXJhZ2VCdXlQcmljZSxcbiAgICAgICAgICBhdmVyYWdlSG9sZFRpbWUsXG4gICAgICAgICAgdG90YWxQcm9maXQsXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBuZXcgY29sbGVjdGlvbiwgcHJ1bmUgdGhlIGRhdGEgYW5kIGluaXRpYWxpemUgaXRzIG9iamVjdFxuXG4gICAgICAgIC8vIFByZXBhcmUgdGhlIGNvbGxlY3Rpb24gZGF0YVxuICAgICAgICBjb25zdCBwcnVuZWRDb2xsZWN0aW9uID0ge1xuICAgICAgICAgIG5hbWU6IGNvbGxlY3Rpb24ubmFtZSxcbiAgICAgICAgICBzbHVnOiBjb2xsZWN0aW9uLnNsdWcsXG4gICAgICAgICAgaW1hZ2VfdXJsOiBjb2xsZWN0aW9uLmltYWdlX3VybCxcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCBzdGF0c1xuICAgICAgICBhY2NbY29sbGVjdGlvbi5zbHVnXSA9IHtcbiAgICAgICAgICAuLi5wcnVuZWRDb2xsZWN0aW9uLFxuICAgICAgICAgIGFzc2V0czogW3BydW5lZEFzc2V0XSxcbiAgICAgICAgICB0b3RhbFByb2ZpdDogcHJvZml0LFxuICAgICAgICAgIGF2ZXJhZ2VTYWxlUHJpY2U6IHNhbGVQcmljZSxcbiAgICAgICAgICBhdmVyYWdlQnV5UHJpY2U6IGJ1eVByaWNlLFxuICAgICAgICAgIGF2ZXJhZ2VIb2xkVGltZTogaG9sZFRpbWUsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFjY1xuICB9LCB7fSlcblxuICAvLyBDYWxjdWxhdGUgdG90YWwgc3RhdHNcblxuICAvLyBDYWxjdWxhdGUgYmVzdCB0cmFkZSBiYXNlZCBvbiBjb2xsZWN0aW9uIGF2ZXJhZ2VzXG4gIGNvbnN0IG1heFByb2ZpdCA9IE1hdGgubWF4KFxuICAgIC4uLk9iamVjdC52YWx1ZXModHJhZGVzQnlDb2xsZWN0aW9uKS5tYXAoKGNvbGxlY3Rpb246IGFueSkgPT4gTnVtYmVyKGNvbGxlY3Rpb24udG90YWxQcm9maXQpKSxcbiAgKVxuICBjb25zdCBiZXN0VHJhZGVDb2xsZWN0aW9uID0gT2JqZWN0LnZhbHVlcyh0cmFkZXNCeUNvbGxlY3Rpb24pLmZpbHRlcihcbiAgICAoY29sbGVjdGlvbjogYW55KSA9PiBjb2xsZWN0aW9uLnRvdGFsUHJvZml0ID09IG1heFByb2ZpdCAmJiBjb2xsZWN0aW9uLnRvdGFsUHJvZml0ID4gMCxcbiAgKVswXVxuXG4gIC8vIENhbGN1bGF0ZSB3b3JzdCB0cmFkZSBiYXNlZCBvbiBjb2xsZWN0aW9uIGF2ZXJhZ2VzXG4gIGNvbnN0IG1pblByb2ZpdCA9IE1hdGgubWluKFxuICAgIC4uLk9iamVjdC52YWx1ZXModHJhZGVzQnlDb2xsZWN0aW9uKS5tYXAoKGNvbGxlY3Rpb246IGFueSkgPT4gTnVtYmVyKGNvbGxlY3Rpb24udG90YWxQcm9maXQpKSxcbiAgKVxuICBjb25zdCB3b3JzdFRyYWRlQ29sbGVjdGlvbiA9IE9iamVjdC52YWx1ZXModHJhZGVzQnlDb2xsZWN0aW9uKS5maWx0ZXIoXG4gICAgKGNvbGxlY3Rpb246IGFueSkgPT4gY29sbGVjdGlvbi50b3RhbFByb2ZpdCA9PSBtaW5Qcm9maXQgJiYgY29sbGVjdGlvbi50b3RhbFByb2ZpdCA8IDAsXG4gIClbMF1cblxuICAvLyBDcmVhdGUgdG90YWwgc3RhdHMgb2JqZWN0XG4gIGNvbnN0IHRvdGFsVHJhZGVTdGF0cyA9IHtcbiAgICBiZXN0VHJhZGU6IGJlc3RUcmFkZUNvbGxlY3Rpb24sXG4gICAgd29yc3RUcmFkZTogd29yc3RUcmFkZUNvbGxlY3Rpb24sXG4gIH1cblxuICByZXR1cm4geyB0cmFkZXNCeUNvbGxlY3Rpb24sIHRvdGFsVHJhZGVTdGF0cyB9XG59XG5cbmNvbnN0IGdldEV2ZW50RnJvbUFkZHJlc3MgPSAoZXZlbnQ6IElPcGVuU2VhRXZlbnQpID0+IHtcbiAgcmV0dXJuIGV2ZW50LmZyb21fYWNjb3VudC5hZGRyZXNzXG59XG5cbmNvbnN0IGdldEV2ZW50VG9BZGRyZXNzID0gKGV2ZW50OiBJT3BlblNlYUV2ZW50KSA9PiB7XG4gIHJldHVybiBldmVudC50b19hY2NvdW50LmFkZHJlc3Ncbn1cblxuY29uc3QgZ2V0Q29sbGVjdGlvbkZyb21FdmVudCA9IChcbiAgZXZlbnQ6IElPcGVuU2VhRXZlbnQsXG4pOiBPbWl0PElDb2xsZWN0aW9uLCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCcgfCAnaXNfc3RhdHNfZmV0Y2hlZCc+ID0+IHtcbiAgcmV0dXJuIHtcbiAgICBjb250cmFjdF9hZGRyZXNzOiBldmVudC5hc3NldC5hc3NldF9jb250cmFjdC5hZGRyZXNzLFxuICAgIG5hbWU6IGV2ZW50LmFzc2V0LmNvbGxlY3Rpb24ubmFtZSxcbiAgICBzbHVnOiBldmVudC5hc3NldC5jb2xsZWN0aW9uLnNsdWcsXG4gICAgaW1hZ2VfdXJsOiBldmVudC5hc3NldC5jb2xsZWN0aW9uLmltYWdlX3VybCxcbiAgICB0d2l0dGVyX3VzZXJuYW1lOiBldmVudC5hc3NldC5jb2xsZWN0aW9uLnR3aXR0ZXJfdXNlcm5hbWUsXG4gICAgZGlzY29yZF91cmw6IGV2ZW50LmFzc2V0LmNvbGxlY3Rpb24uZGlzY29yZF91cmwsXG4gICAgZXh0ZXJuYWxfdXJsOiBldmVudC5hc3NldC5jb2xsZWN0aW9uLmV4dGVybmFsX3VybCxcbiAgfVxufVxuXG5jb25zdCBnZXRBc3NldEZyb21FdmVudCA9IChldmVudDogSU9wZW5TZWFFdmVudCk6IElBc3NldCA9PiB7XG4gIHJldHVybiBwcnVuZUFzc2V0KGV2ZW50LmFzc2V0KVxufVxuXG5jb25zdCBnZXRFdmVudFR5cGUgPSAoZXZlbnQ6IElPcGVuU2VhRXZlbnQpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gZXZlbnQuZXZlbnRfdHlwZVxufVxuXG5leHBvcnQgY29uc3QgcHJ1bmVFdmVudCA9IChldmVudDogSU9wZW5TZWFFdmVudCkgPT4ge1xuICBjb25zdCBwcnVuZWRFdmVudDogSUV2ZW50ID0ge1xuICAgIGRhdGU6IGV2ZW50LmNyZWF0ZWRfZGF0ZSxcbiAgICBhc3NldDogZ2V0QXNzZXRGcm9tRXZlbnQoZXZlbnQpLFxuICAgIGNvbGxlY3Rpb246IGdldENvbGxlY3Rpb25Gcm9tRXZlbnQoZXZlbnQpLFxuICAgIHR5cGU6IGdldEV2ZW50VHlwZShldmVudCksXG5cbiAgICAvLyBJZiAnc3VjY2Vzc2Z1bCcgaXQgbWVhbnMgdGhpcyBpcyBhIHNhbGUvYnV5XG4gICAgLy8gUmV0cmlldmUgc2VsbGVyL3dpbm5lciBkYXRhIGFuZCBwcmljZVxuICAgIC4uLihnZXRFdmVudFR5cGUoZXZlbnQpID09PSAnc3VjY2Vzc2Z1bCcgJiYge1xuICAgICAgc2VsbGVyQWRkcmVzczogZXZlbnQuc2VsbGVyLmFkZHJlc3MsXG4gICAgICBzZWxsZXJVc2VybmFtZTogZXZlbnQuc2VsbGVyLnVzZXI/LnVzZXJuYW1lLFxuICAgICAgYnV5ZXJBZGRyZXNzOiBldmVudC53aW5uZXJfYWNjb3VudC5hZGRyZXNzLFxuICAgICAgYnV5ZXJVc2VybmFtZTogZXZlbnQud2lubmVyX2FjY291bnQudXNlcj8udXNlcm5hbWUsXG4gICAgICBwcmljZTogcGFyc2VGbG9hdCh3ZWIzLnV0aWxzLmZyb21XZWkoZXZlbnQudG90YWxfcHJpY2UpKSxcbiAgICB9KSxcblxuICAgIC8vIElmICd0cmFuc2ZlcicsIHJldHJpZXZlIGZyb20vdG8gZGF0YVxuICAgIC4uLihnZXRFdmVudFR5cGUoZXZlbnQpID09PSAndHJhbnNmZXInICYmIHtcbiAgICAgIGZyb21BZGRyZXNzOiBldmVudC5mcm9tX2FjY291bnQuYWRkcmVzcyxcbiAgICAgIGZyb21Vc2VybmFtZTogZXZlbnQuZnJvbV9hY2NvdW50LnVzZXI/LnVzZXJuYW1lLFxuICAgICAgdG9BZGRyZXNzOiBldmVudC50b19hY2NvdW50LmFkZHJlc3MsXG4gICAgICB0b1VzZXJuYW1lOiBldmVudC50b19hY2NvdW50LnVzZXI/LnVzZXJuYW1lLFxuICAgIH0pLFxuICB9XG4gIHJldHVybiBwcnVuZWRFdmVudFxufVxuIl0sIm5hbWVzIjpbIndlYjMiLCJvcGVuc2VhRmV0Y2hIZWFkZXJzIiwicHJ1bmVBc3NldCIsImdldEV2ZW50c0Zvck93bmVyIiwib3duZXJBZGRyZXNzIiwidG90YWxBc3NldEV2ZW50cyIsImxpbWl0IiwibWF4SXRlcmF0aW9ucyIsImN1cnJlbnRJdGVyYXRpb24iLCJ1cmwiLCJsZW5ndGgiLCJjb25zb2xlIiwibG9nIiwiYXNzZXRfZXZlbnRzIiwiZmV0Y2giLCJ0aGVuIiwicmVzcCIsImpzb24iLCJlcnJvciIsInVuYnVuZGxlRXZlbnQiLCJidW5kbGVkRXZlbnQiLCJ3YXJuIiwiYXNzZXRfYnVuZGxlIiwiYXNzZXRzIiwibWFwIiwiYXNzZXQiLCJ1bmJ1bmRsZUV2ZW50cyIsImV2ZW50cyIsInVuYnVuZGxlZEV2ZW50cyIsInJlZHVjZSIsImFjYyIsImV2ZW50IiwidW5idW5kbGVkRXZlbnQiLCJwdXNoIiwiZ2V0RXZlbnRzQnlTdWNjZXNzZnVsU2FsZXNBbmRCdXlzIiwic3VjY2Vzc2Z1bEV2ZW50cyIsImZpbHRlciIsImV2ZW50X3R5cGUiLCJzYWxlcyIsInRyYWRlT3JkZXIiLCJwZXJtYWxpbmsiLCJzZWxsZXIiLCJhZGRyZXNzIiwidG9Mb3dlckNhc2UiLCJidXlzIiwid2lubmVyX2FjY291bnQiLCJnZXRUcmFkZXNCeUNvbGxlY3Rpb25BbmRUcmFkZVN0YXRzRm9yT3duZXIiLCJ0cmFkZXNCeUNvbGxlY3Rpb24iLCJPYmplY3QiLCJrZXlzIiwic2FsZUlkIiwiaW5jbHVkZXMiLCJzYWxlIiwiYnV5Iiwic2FsZVByaWNlIiwicGFyc2VGbG9hdCIsInV0aWxzIiwiZnJvbVdlaSIsInRvdGFsX3ByaWNlIiwiYnV5UHJpY2UiLCJwcm9maXQiLCJzYWxlRGF0ZSIsIkRhdGUiLCJwYXJzZSIsImNyZWF0ZWRfZGF0ZSIsImJ1eURhdGUiLCJob2xkVGltZSIsInBydW5lZEFzc2V0IiwiaW1hZ2VfdGh1bWJuYWlsX3VybCIsIm5hbWUiLCJjb2xsZWN0aW9uIiwic2x1ZyIsIm51bUFzc2V0c1NvRmFyIiwiYXZlcmFnZVNhbGVQcmljZVNvRmFyIiwiYXZlcmFnZVNhbGVQcmljZSIsImF2ZXJhZ2VCdXlQcmljZVNvRmFyIiwiYXZlcmFnZUJ1eVByaWNlIiwidG90YWxQcm9maXQiLCJhdmVyYWdlSG9sZFRpbWVTb0ZhciIsImF2ZXJhZ2VIb2xkVGltZSIsInBydW5lZENvbGxlY3Rpb24iLCJpbWFnZV91cmwiLCJtYXhQcm9maXQiLCJNYXRoIiwibWF4IiwidmFsdWVzIiwiTnVtYmVyIiwiYmVzdFRyYWRlQ29sbGVjdGlvbiIsIm1pblByb2ZpdCIsIm1pbiIsIndvcnN0VHJhZGVDb2xsZWN0aW9uIiwidG90YWxUcmFkZVN0YXRzIiwiYmVzdFRyYWRlIiwid29yc3RUcmFkZSIsImdldEV2ZW50RnJvbUFkZHJlc3MiLCJmcm9tX2FjY291bnQiLCJnZXRFdmVudFRvQWRkcmVzcyIsInRvX2FjY291bnQiLCJnZXRDb2xsZWN0aW9uRnJvbUV2ZW50IiwiY29udHJhY3RfYWRkcmVzcyIsImFzc2V0X2NvbnRyYWN0IiwidHdpdHRlcl91c2VybmFtZSIsImRpc2NvcmRfdXJsIiwiZXh0ZXJuYWxfdXJsIiwiZ2V0QXNzZXRGcm9tRXZlbnQiLCJnZXRFdmVudFR5cGUiLCJwcnVuZUV2ZW50IiwicHJ1bmVkRXZlbnQiLCJkYXRlIiwidHlwZSIsInNlbGxlckFkZHJlc3MiLCJzZWxsZXJVc2VybmFtZSIsInVzZXIiLCJ1c2VybmFtZSIsImJ1eWVyQWRkcmVzcyIsImJ1eWVyVXNlcm5hbWUiLCJwcmljZSIsImZyb21BZGRyZXNzIiwiZnJvbVVzZXJuYW1lIiwidG9BZGRyZXNzIiwidG9Vc2VybmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/opensea/events.ts\n");

/***/ }),

/***/ "./pages/api/opensea/events/[address].ts":
/*!***********************************************!*\
  !*** ./pages/api/opensea/events/[address].ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_opensea_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/opensea/events */ \"./lib/opensea/events.ts\");\n\n/**\n * Fetches the sales of the given address using the Opensea API.\n */ const request = async (req, res)=>{\n    res.setHeader('Cache-Control', 's-maxage=1800');\n    const { address: givenAddress  } = req.query;\n    if (typeof givenAddress !== 'string') return res.status(400).json({\n        error: 'address must be given'\n    });\n    console.log(`\\n  Hit events/ endpoint for ${givenAddress}`);\n    // Use lower case address\n    const ownerAddress = givenAddress.toLowerCase();\n    // Fetch all events\n    const events = await (0,_lib_opensea_events__WEBPACK_IMPORTED_MODULE_0__.getEventsForOwner)(ownerAddress);\n    // Unbundle events (for buying/selling NFT bundles instead of individual NFTs)\n    const unbundledEvents = (0,_lib_opensea_events__WEBPACK_IMPORTED_MODULE_0__.unbundleEvents)(events);\n    // Sort events by sales and buys\n    const { sales , buys  } = (0,_lib_opensea_events__WEBPACK_IMPORTED_MODULE_0__.getEventsBySuccessfulSalesAndBuys)(events, ownerAddress);\n    // Parse events and extract data into usable objects\n    const { tradesByCollection , totalTradeStats  } = (0,_lib_opensea_events__WEBPACK_IMPORTED_MODULE_0__.getTradesByCollectionAndTradeStatsForOwner)(sales, buys);\n    res.status(200).json({\n        tradesByCollection,\n        totalTradeStats,\n        events: unbundledEvents.filter((event)=>event.asset\n        ).map(_lib_opensea_events__WEBPACK_IMPORTED_MODULE_0__.pruneEvent)\n    });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (request);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9hcGkvb3BlbnNlYS9ldmVudHMvW2FkZHJlc3NdLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBT3VDO0FBRXZDLEVBRUc7O0NBQUEsR0FDSCxLQUFLLENBQUNLLE9BQU8sVUFBVUMsR0FBbUIsRUFBRUMsR0FBb0IsR0FBSyxDQUFDO0lBQ3BFQSxHQUFHLENBQUNDLFNBQVMsQ0FBQyxDQUFlLGdCQUFFLENBQWU7SUFDOUMsS0FBSyxDQUFDLENBQUMsQ0FBQ0MsT0FBTyxFQUFFQyxZQUFZLEVBQUMsQ0FBQyxHQUFHSixHQUFHLENBQUNLLEtBQUs7SUFFM0MsRUFBRSxFQUFFLE1BQU0sQ0FBQ0QsWUFBWSxLQUFLLENBQVEsU0FBRSxNQUFNLENBQUNILEdBQUcsQ0FBQ0ssTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7UUFBQ0MsS0FBSyxFQUFFLENBQXVCO0lBQUMsQ0FBQztJQUVwR0MsT0FBTyxDQUFDQyxHQUFHLEVBQUUsaUNBQThCLEVBQUVOLFlBQVk7SUFFekQsRUFBeUI7SUFDekIsS0FBSyxDQUFDTyxZQUFZLEdBQUdQLFlBQVksQ0FBQ1EsV0FBVztJQUU3QyxFQUFtQjtJQUNuQixLQUFLLENBQUNDLE1BQU0sR0FBRyxLQUFLLENBQUNuQixzRUFBaUIsQ0FBQ2lCLFlBQVk7SUFFbkQsRUFBOEU7SUFDOUUsS0FBSyxDQUFDRyxlQUFlLEdBQUdsQixtRUFBYyxDQUFDaUIsTUFBTTtJQUU3QyxFQUFnQztJQUNoQyxLQUFLLENBQUMsQ0FBQyxDQUFDRSxLQUFLLEdBQUVDLElBQUksRUFBQyxDQUFDLEdBQUduQixzRkFBaUMsQ0FBQ2dCLE1BQU0sRUFBRUYsWUFBWTtJQUU5RSxFQUFvRDtJQUNwRCxLQUFLLENBQUMsQ0FBQyxDQUFDTSxrQkFBa0IsR0FBRUMsZUFBZSxFQUFDLENBQUMsR0FBR3ZCLCtGQUEwQyxDQUFDb0IsS0FBSyxFQUFFQyxJQUFJO0lBRXRHZixHQUFHLENBQUNLLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQyxDQUFDO1FBQ3BCVSxrQkFBa0I7UUFDbEJDLGVBQWU7UUFDZkwsTUFBTSxFQUFFQyxlQUFlLENBQUNLLE1BQU0sRUFBRUMsS0FBSyxHQUFLQSxLQUFLLENBQUNDLEtBQUs7VUFBRUMsR0FBRyxDQUFDeEIsMkRBQVU7SUFDdkUsQ0FBQztBQUNILENBQUM7QUFFRCxpRUFBZUMsT0FBTyIsInNvdXJjZXMiOlsid2VicGFjazovL0BhcGUtbW9uaXRvci93d3cvLi9wYWdlcy9hcGkvb3BlbnNlYS9ldmVudHMvW2FkZHJlc3NdLnRzP2ExNjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcbmltcG9ydCB7XG4gIGdldEV2ZW50c0Zvck93bmVyLFxuICBnZXRUcmFkZXNCeUNvbGxlY3Rpb25BbmRUcmFkZVN0YXRzRm9yT3duZXIsXG4gIHVuYnVuZGxlRXZlbnRzLFxuICBnZXRFdmVudHNCeVN1Y2Nlc3NmdWxTYWxlc0FuZEJ1eXMsXG4gIHBydW5lRXZlbnQsXG59IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9vcGVuc2VhL2V2ZW50cydcblxuLyoqXG4gKiBGZXRjaGVzIHRoZSBzYWxlcyBvZiB0aGUgZ2l2ZW4gYWRkcmVzcyB1c2luZyB0aGUgT3BlbnNlYSBBUEkuXG4gKi9cbmNvbnN0IHJlcXVlc3QgPSBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcbiAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdzLW1heGFnZT0xODAwJylcbiAgY29uc3QgeyBhZGRyZXNzOiBnaXZlbkFkZHJlc3MgfSA9IHJlcS5xdWVyeVxuXG4gIGlmICh0eXBlb2YgZ2l2ZW5BZGRyZXNzICE9PSAnc3RyaW5nJykgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdhZGRyZXNzIG11c3QgYmUgZ2l2ZW4nIH0pXG5cbiAgY29uc29sZS5sb2coYFxcbiDwn46vIEhpdCBldmVudHMvIGVuZHBvaW50IGZvciAke2dpdmVuQWRkcmVzc31gKVxuXG4gIC8vIFVzZSBsb3dlciBjYXNlIGFkZHJlc3NcbiAgY29uc3Qgb3duZXJBZGRyZXNzID0gZ2l2ZW5BZGRyZXNzLnRvTG93ZXJDYXNlKClcblxuICAvLyBGZXRjaCBhbGwgZXZlbnRzXG4gIGNvbnN0IGV2ZW50cyA9IGF3YWl0IGdldEV2ZW50c0Zvck93bmVyKG93bmVyQWRkcmVzcylcblxuICAvLyBVbmJ1bmRsZSBldmVudHMgKGZvciBidXlpbmcvc2VsbGluZyBORlQgYnVuZGxlcyBpbnN0ZWFkIG9mIGluZGl2aWR1YWwgTkZUcylcbiAgY29uc3QgdW5idW5kbGVkRXZlbnRzID0gdW5idW5kbGVFdmVudHMoZXZlbnRzKVxuXG4gIC8vIFNvcnQgZXZlbnRzIGJ5IHNhbGVzIGFuZCBidXlzXG4gIGNvbnN0IHsgc2FsZXMsIGJ1eXMgfSA9IGdldEV2ZW50c0J5U3VjY2Vzc2Z1bFNhbGVzQW5kQnV5cyhldmVudHMsIG93bmVyQWRkcmVzcylcblxuICAvLyBQYXJzZSBldmVudHMgYW5kIGV4dHJhY3QgZGF0YSBpbnRvIHVzYWJsZSBvYmplY3RzXG4gIGNvbnN0IHsgdHJhZGVzQnlDb2xsZWN0aW9uLCB0b3RhbFRyYWRlU3RhdHMgfSA9IGdldFRyYWRlc0J5Q29sbGVjdGlvbkFuZFRyYWRlU3RhdHNGb3JPd25lcihzYWxlcywgYnV5cylcblxuICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgdHJhZGVzQnlDb2xsZWN0aW9uLFxuICAgIHRvdGFsVHJhZGVTdGF0cyxcbiAgICBldmVudHM6IHVuYnVuZGxlZEV2ZW50cy5maWx0ZXIoKGV2ZW50KSA9PiBldmVudC5hc3NldCkubWFwKHBydW5lRXZlbnQpLFxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCByZXF1ZXN0XG4iXSwibmFtZXMiOlsiZ2V0RXZlbnRzRm9yT3duZXIiLCJnZXRUcmFkZXNCeUNvbGxlY3Rpb25BbmRUcmFkZVN0YXRzRm9yT3duZXIiLCJ1bmJ1bmRsZUV2ZW50cyIsImdldEV2ZW50c0J5U3VjY2Vzc2Z1bFNhbGVzQW5kQnV5cyIsInBydW5lRXZlbnQiLCJyZXF1ZXN0IiwicmVxIiwicmVzIiwic2V0SGVhZGVyIiwiYWRkcmVzcyIsImdpdmVuQWRkcmVzcyIsInF1ZXJ5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIm93bmVyQWRkcmVzcyIsInRvTG93ZXJDYXNlIiwiZXZlbnRzIiwidW5idW5kbGVkRXZlbnRzIiwic2FsZXMiLCJidXlzIiwidHJhZGVzQnlDb2xsZWN0aW9uIiwidG90YWxUcmFkZVN0YXRzIiwiZmlsdGVyIiwiZXZlbnQiLCJhc3NldCIsIm1hcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/opensea/events/[address].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/api/opensea/events/[address].ts"));
module.exports = __webpack_exports__;

})();